# Internationalization (i18n) — App Router (URL limpa)

## Objective

Implement internationalization (i18n) in a **Next.js App Router** project with support for:

- Portuguese (`pt`)
- French (`fr`)
- English (`en`)

⚠️ **Critical requirement**  
The application **MUST NOT** use locale-based URLs.

✅ Valid:
- https://autotax-zeta.vercel.app/

❌ Invalid:
- /pt
- /fr
- /en

Language selection must be done via **server-side detection** and **cookies**, while keeping a **single canonical URL**.

---

## Architectural Decisions

### 1. Routing Strategy

- Use **only one route** (`/`)
- Do **NOT** use:
  - `next.config.js` i18n
  - `[locale]` route segments
  - locale-based redirects
  - locale subpaths

---

### 2. Language Detection Priority

The locale must be resolved **on the server** using the following priority:

1. Cookie `lang`
2. HTTP header `Accept-Language`
3. Fallback to `pt`

Only the following locales are allowed:
- `pt`
- `fr`
- `en`

Any unsupported value must fallback to `pt`.

---

## Folder Structure